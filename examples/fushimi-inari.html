<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Fushimi Inari Forest by Riccardo Minervino</title>
    <meta
      name="description"
      content="Fushimi Inari Forest by Riccardo Minervino"
    />
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="../lib/aframe-stereocam-component.js"></script>
    <script src="https://unpkg.com/aframe-cubemap-component@2.1.1/dist/aframe-cubemap-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Camera -->
      <a-entity position="0 0 0">
        <a-entity camera look-controls stereocam="eye:left;"></a-entity>
      </a-entity>

      <!-- Cubemaps -->
      <a-entity
        id="left-cube"
        cubemap="folder:../assets/fushimi-inari/left/;ext:png"
      ></a-entity>
      <a-entity
        id="right-cube"
        cubemap="folder:../assets/fushimi-inari/right/;ext:png"
      ></a-entity>
    </a-scene>
    <script type="text/javascript">
      const scene = document.querySelector("a-scene");

      if (scene.hasLoaded) {
        run();
      } else {
        scene.addEventListener("loaded", run);
      }

      function run() {
        // Only show leftCube to left eye.
        let leftCubeEl = document.querySelector("#left-cube");
        let leftCube = leftCubeEl.getObject3D("cubemap");
        leftCube.layers.set(1);

        // Only show rightCube to right eye.
        let rightCubeEl = document.querySelector("#right-cube");
        let rightCube = rightCubeEl.getObject3D("cubemap");
        rightCube.layers.set(2);
      }
    </script>
  </body>
</html>
